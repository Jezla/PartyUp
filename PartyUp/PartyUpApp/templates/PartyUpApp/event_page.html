{% extends "PartyUpApp/base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{% static 'PartyUpApp/event_page.css' %}">
{% endblock stylesheets %}

{% block scripts %}
{{ event|json_script:"event" }}
<script src="{% static 'PartyUpApp/event_page.js' %}" defer></script>
{% endblock scripts %}

{% block content %}
<div class="container">
    <p class="form-p">Event Page</p>
    <p id="error"></p>
    <table id="party_table" class="table">
        <thead>
        <tr>
            <th scope="col">Event Name</th>
            <th scope="col">Description</th>
            <th scope="col">Playlist</th>
            <th scope="col">Address</th>
            <th scope="col">Delete</th>
        </tr>
        </thead>
        <tbody>
            <tr>
                <td>{{ event.name }}</td>
                <td>{{ event.description }}</td>
                <td>{{ event.playlist_id }}</td>
                <td>{{ address }}</td>
                <td><button type="button" id="delete-modal-btn" class="btn delete-btn" data-bs-toggle="modal" data-bs-target="#myModal"><img class="delete-img" src="{% static 'PartyUpApp/trash-fill.svg' %}" alt="Delete"></button></td>
            </tr>
        </tbody>
    </table>      
    <div id="myModal" class="modal" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Delete Event</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>Are you sure you want to delete this event?</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              <button id="delete-btn"type="button" class="btn btn-danger" data-bs-dismiss="modal">Delete</button>
            </div>
          </div>
        </div>
      </div>
</div>
{% endblock %}
